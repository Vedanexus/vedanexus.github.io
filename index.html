<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Ripple Satisfy</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: #050510;
  overflow: hidden;
  touch-action: manipulation;
}
canvas {
  display: block;
}
</style>
</head>

<body>
<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let W, H;
function resize() {
  W = canvas.width = window.innerWidth;
  H = canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

let ripples = [];

canvas.addEventListener("pointerdown", e => {
  ripples.push({
    x: e.clientX,
    y: e.clientY,
    r: 0,
    alpha: 1,
    hue: Math.random() * 360
  });
});

function draw() {
  ctx.fillStyle = "rgba(5,5,16,0.25)";
  ctx.fillRect(0, 0, W, H);

  for (let i = ripples.length - 1; i >= 0; i--) {
    const p = ripples[i];
    p.r += 2.5;
    p.alpha -= 0.008;

    ctx.beginPath();
    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
    ctx.strokeStyle = `hsla(${p.hue},100%,65%,${p.alpha})`;
    ctx.lineWidth = 3;
    ctx.shadowBlur = 20;
    ctx.shadowColor = `hsla(${p.hue},100%,65%,${p.alpha})`;
    ctx.stroke();

    if (p.alpha <= 0) ripples.splice(i, 1);
  }

  requestAnimationFrame(draw);
}

draw();
</script>
</body>
</html>
